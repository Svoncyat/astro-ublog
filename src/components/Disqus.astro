<section class="my-4">
  <div id="disqus_thread"></div>
  <script>
    function init() {
      // Inicializa el div de Disqus
      var disqusThread = document.getElementById("disqus_thread");
      disqusThread.innerHTML = ""; // Vacía el contenido
      // Vuelve a cargar Disqus
      var s = document.createElement("script");
      s.src = "https://disqus-blog-jsct.disqus.com/embed.js";
      s.setAttribute("data-timestamp", new Date().toDateString());
      disqusThread.appendChild(s);
    }

    // Inicializa en la primera carga
    init();

    // Re-inicializa después de cambiar de página
    document.addEventListener("astro:after-swap", init);
  </script>
  <noscript
    >Please enable JavaScript to view the <a
      href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a
    ></noscript
  >
</section>
